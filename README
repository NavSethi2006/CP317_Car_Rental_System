

# Car Rental System

A **Java-based car rental management system** backed by a **MySQL database**, designed for team collaboration and easy local development using **Docker**.

---

## Project Structure

```
CarRentalSystem/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/java/com/carrental/
â”‚       â”œâ”€â”€ CarRentalApplication.java
â”‚       â”œâ”€â”€ dao/        # Data Access Objects (database interaction)
â”‚       â”œâ”€â”€ model/      # Domain classes (Vehicle, Customer, Rental, enums)
â”‚       â”œâ”€â”€ service/    # Business logic layer
â”‚       â””â”€â”€ util/       # Utility classes (hashing, dates, etc.)
â”‚
â”œâ”€â”€ test/java/com/carrental/
â”‚         # Tests mirror production packages
â”‚
â”œâ”€â”€ db/init/
â”‚   â””â”€â”€ create_tables.sql   # Auto-executed DB initialization scripts
â”‚
â”œâ”€â”€ lib/                # External JAR dependencies (manual management)
â”œâ”€â”€ docker-compose.yml  # MySQL container configuration
â””â”€â”€ README.md
```

---

## Folder Responsibilities

| Folder | Purpose |
|------|---------|
`src/main/java` | Production source code |
`model` | Domain entities |
`dao` | Database queries & persistence logic |
`service` | Business logic and orchestration |
`util` | Helper utilities |
`test` | Unit & integration tests |
`db/init` | SQL scripts auto-run on first DB startup |
`lib` | Required dependency JAR files |
`public` | Frontend source code
`docker-compose.yml` | MySQL container setup |

---

## Prerequisites

Make sure you have installed:

- **Java JDK 11+**
- **Docker Desktop** (or Docker Engine + Compose)
- **Git** (optional)
- A terminal or command prompt

---

## Quick Setup and Execution
If you dont want to read anything then just follow these instructions, However make sure you have the prerequisites installed
```bash
git clone https://github.com/NavSethi2006/CP317_Car_Rental_System
cd CP317_Car_Rental_System
docker-compose up --build
```
This launches and builds both the mysql database and the java source code,
be aware that this process may take some time so don't ctrl+c out of it.
Once compilation is done and the mysql database is up and running there 
should be a prompt saying:
```bash
car_rental_app  | Success connecting to the DATABASE
car_rental_app  | Web server started on port http://localhost:8080
```
Open your browser and go to http://localhost:8080. You should be able to access the app from there for testing and demoing

## ğŸš€ Setup & Execution more comprehensive

### 1ï¸. Clone Repository
```bash
git clone <repository-url>
cd CarRentalSystem
```

---

### 2ï¸. Start MySQL Container and Java source
```bash
docker-compose up --build
```

This will:

- Launch container **car_rental_db**
- Create database **Car_Rental_System**
- Execute SQL scripts in `db/init/`
- Persist data in Docker volume `mysql_data`
- Compile all of java backend and frontend
- Direct you to http://localhost:8080 for you to test the app

Check container status:
```bash
docker ps
```

---

### 3ï¸. Verify Database Schema
```bash
docker exec -it car_rental_db mysql -u root -p
# password: root
USE Car_Rental_System;
SHOW TABLES;
```

Expected tables:
```
vehicles
customers
rentals
```

---

### 4ï¸. Compile Project
This is only if you dont want to use docker for your execution, if requested i can make a shell and batch
file for eaiser compilation

Place all dependency JARs inside `lib/`, if JARs are already in lib/ then theres no worry, then run:

**Mac/Linux**
```bash
javac -cp "lib/*:src/main/java" src/main/java/com/carrental/**/*.java
```

**Windows**
```bash
javac -cp "lib/*;src/main/java" src/main/java/com/carrental/**/*.java
```

---


### 5ï¸âƒ£ Run Application
```bash
java -cp "lib/*:src/main/java" com.carrental.MainApplication
```

---

### 5.1 Run application with IDE
This is IDE dependent so you probably have to look at that on the softwares website but heres a rundown
 -  Right click on the project
 -  Go to 'Configure Build Path'
 -  Navigate to the library tab
 -  Click on module path
 -  Click on ADD JARs and navigate to the /lib folder
 -  Add all those jars in /lib
 -  Apply & close then run your application

## ğŸ§ª Running Tests

Tests use **JUnit 5**.

---

### Option 1 â€” IDE
1. Mark `test/java` as **Test Sources Root**
2. Add all JARs from `lib/` to modulepath
3. Right-click test â†’ **Run**

---

### Option 2 â€” Console Launcher
```bash
java -jar lib/junit-platform-console-standalone-1.10.2.jar \
     --class-path "src/main/java:test/java:lib/*" \
     --scan-class-path
```

---

### Option 3 â€” Custom Runner
```bash
java -cp "lib/*:src/main/java:test/java" com.carrental.Test
```

---

## ğŸ“¦ Dependencies

Place these in `/lib`:

| Library | Version | Purpose |
|--------|---------|--------|
MySQL Connector/J | 9.6.0 | JDBC driver |
JUnit Console | 6.1.0 | Test runner |

---

## ğŸ”§ Troubleshooting

### Port 3306 Already In Use
```
Bind for 0.0.0.0:3306 failed
```
**Fix**
- Stop local MySQL service  
OR  
- Change port in `docker-compose.yml` â†’ `"3307:3306"`

---

### Container Not Starting
Check logs:
```bash
docker logs car_rental_db
```

Common causes:
- Port conflict
- SQL syntax error

Reset container:
```bash
docker-compose down -v
docker-compose up --build
```

---

### Column Errors
Example:
```
Unknown column 'type'
```

Reset DB volume:
```bash
docker-compose down -v
docker-compose up --build
```

---

### ResultSet Errors
```
Before start of result set
```

Make sure DAO methods call:
```java
rs.next()
```

---

### ClassNotFoundException
Cause: Missing JAR.

Fix: Ensure all dependencies are inside `/lib` and included in `-cp`.

---

### SQL Syntax Errors
Print queries before execution:
```java
System.out.println(query);
```

Common mistakes:
- Missing commas
- Wrong column names
- Unescaped quotes

---

### Connection Refused
Verify:

- Container running â†’ `docker ps`
- JDBC URL correct:
```
jdbc:mysql://127.0.0.1:3306/Car_Rental_System?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
```
- Credentials:  
`user = root`  
`password = root`

---

## ğŸ‘¥ Contributing

Guidelines:

- Follow existing package structure
- Write unit tests for new features
- Update SQL scripts if schema changes
- Notify team when DB reset is required
- Never commit credentials unless they are used for tests
- Keep README updated

---

## ğŸ“ Notes

- Current DB utility uses a **single static connection**
- For production, use a connection pool such as **HikariCP**
- Always use **PreparedStatement** in DAOs to prevent SQL injection
- Tests assume the Docker database container is running
